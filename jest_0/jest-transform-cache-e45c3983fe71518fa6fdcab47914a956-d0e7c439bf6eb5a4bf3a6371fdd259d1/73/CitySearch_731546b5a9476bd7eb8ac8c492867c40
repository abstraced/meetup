f2a5adf9bf0166e86bcabdc5958121a4
"use strict";

var _interopRequireWildcard = require("/mnt/c/Users/al/dev/meetup/node_modules/@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireWildcard(require("react"));

var _api = require("./api");

var _jsxFileName = "/mnt/c/Users/al/dev/meetup/src/CitySearch.js";

class CitySearch extends _react.Component {
  constructor(...args) {
    super(...args);
    this.state = {
      query: '',
      suggestions: []
    };

    this.handleInputChanged = event => {
      const value = event.target.value;
      this.setState({
        query: value
      });
      (0, _api.getSuggestions)(value).then(suggestions => this.setState({
        suggestions
      }));
    };

    this.handleItemClicked = (value, lat, lon) => {
      this.setState({
        query: value,
        suggestions: []
      });
      this.props.updateEvents(lat, lon);
    };
  }

  render() {
    return _react.default.createElement("div", {
      className: "CitySearch",
      __source: {
        fileName: _jsxFileName,
        lineNumber: 29
      },
      __self: this
    }, _react.default.createElement("input", {
      placeholder: "city",
      onChange: this.handleInputChanged,
      value: this.state.query,
      type: "text",
      className: "city",
      __source: {
        fileName: _jsxFileName,
        lineNumber: 30
      },
      __self: this
    }), _react.default.createElement("ul", {
      className: "suggestions",
      __source: {
        fileName: _jsxFileName,
        lineNumber: 34
      },
      __self: this
    }, this.state.suggestions.map(item => {
      return _react.default.createElement("li", {
        onClick: () => this.handleItemClicked(item.name_string, item.lat, item.lon),
        key: item.name_string,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 37
        },
        __self: this
      }, item.name_string);
    })));
  }

}

var _default = CitySearch;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNpdHlTZWFyY2guanMiXSwibmFtZXMiOlsiQ2l0eVNlYXJjaCIsIkNvbXBvbmVudCIsInN0YXRlIiwicXVlcnkiLCJzdWdnZXN0aW9ucyIsImhhbmRsZUlucHV0Q2hhbmdlZCIsImV2ZW50IiwidmFsdWUiLCJ0YXJnZXQiLCJzZXRTdGF0ZSIsInRoZW4iLCJoYW5kbGVJdGVtQ2xpY2tlZCIsImxhdCIsImxvbiIsInByb3BzIiwidXBkYXRlRXZlbnRzIiwicmVuZGVyIiwibWFwIiwiaXRlbSIsIm5hbWVfc3RyaW5nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUlBLE1BQU1BLFVBQU4sU0FBeUJDLGdCQUF6QixDQUFtQztBQUFBO0FBQUE7QUFBQSxTQUUvQkMsS0FGK0IsR0FFdkI7QUFDSkMsTUFBQUEsS0FBSyxFQUFFLEVBREg7QUFFSkMsTUFBQUEsV0FBVyxFQUFFO0FBRlQsS0FGdUI7O0FBQUEsU0FVN0JDLGtCQVY2QixHQVVQQyxLQUFELElBQVc7QUFDOUIsWUFBTUMsS0FBSyxHQUFHRCxLQUFLLENBQUNFLE1BQU4sQ0FBYUQsS0FBM0I7QUFDQSxXQUFLRSxRQUFMLENBQWM7QUFBRU4sUUFBQUEsS0FBSyxFQUFFSTtBQUFULE9BQWQ7QUFDQSwrQkFBZUEsS0FBZixFQUFzQkcsSUFBdEIsQ0FBMkJOLFdBQVcsSUFBSSxLQUFLSyxRQUFMLENBQWM7QUFBRUwsUUFBQUE7QUFBRixPQUFkLENBQTFDO0FBQ0QsS0FkNEI7O0FBQUEsU0FnQjdCTyxpQkFoQjZCLEdBZ0JULENBQUNKLEtBQUQsRUFBUUssR0FBUixFQUFhQyxHQUFiLEtBQXFCO0FBQ3ZDLFdBQUtKLFFBQUwsQ0FBYztBQUFFTixRQUFBQSxLQUFLLEVBQUVJLEtBQVQ7QUFBZ0JILFFBQUFBLFdBQVcsRUFBQztBQUE1QixPQUFkO0FBQ0EsV0FBS1UsS0FBTCxDQUFXQyxZQUFYLENBQXdCSCxHQUF4QixFQUE2QkMsR0FBN0I7QUFDRCxLQW5CNEI7QUFBQTs7QUFxQmpDRyxFQUFBQSxNQUFNLEdBQUc7QUFDUCxXQUNJO0FBQUssTUFBQSxTQUFTLEVBQUMsWUFBZjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxPQUNBO0FBQU8sTUFBQSxXQUFXLEVBQUMsTUFBbkI7QUFBMEIsTUFBQSxRQUFRLEVBQUUsS0FBS1gsa0JBQXpDO0FBQThELE1BQUEsS0FBSyxFQUFFLEtBQUtILEtBQUwsQ0FBV0MsS0FBaEY7QUFDRSxNQUFBLElBQUksRUFBQyxNQURQO0FBRUUsTUFBQSxTQUFTLEVBQUMsTUFGWjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxNQURBLEVBS0Q7QUFBSSxNQUFBLFNBQVMsRUFBQyxhQUFkO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE9BQ0osS0FBS0QsS0FBTCxDQUFXRSxXQUFYLENBQXVCYSxHQUF2QixDQUE2QkMsSUFBRCxJQUFVO0FBQ25DLGFBQ0E7QUFBSSxRQUFBLE9BQU8sRUFBRSxNQUFNLEtBQUtQLGlCQUFMLENBQXVCTyxJQUFJLENBQUNDLFdBQTVCLEVBQXlDRCxJQUFJLENBQUNOLEdBQTlDLEVBQW1ETSxJQUFJLENBQUNMLEdBQXhELENBQW5CO0FBQWlGLFFBQUEsR0FBRyxFQUFFSyxJQUFJLENBQUNDLFdBQTNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFNBQXlHRCxJQUFJLENBQUNDLFdBQTlHLENBREE7QUFFSCxLQUhBLENBREksQ0FMQyxDQURKO0FBY0Q7O0FBcENnQzs7ZUF1Q3BCbkIsVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IGdldFN1Z2dlc3Rpb25zIH0gZnJvbSAnLi9hcGknO1xyXG5cclxuXHJcblxyXG5jbGFzcyBDaXR5U2VhcmNoIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuXHJcbiAgICBzdGF0ZSA9IHtcclxuICAgICAgICBxdWVyeTogJycsXHJcbiAgICAgICAgc3VnZ2VzdGlvbnM6IFtdXHJcbiAgICAgIH07XHJcblxyXG4gICAgIFxyXG5cclxuXHJcbiAgICAgIGhhbmRsZUlucHV0Q2hhbmdlZCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBxdWVyeTogdmFsdWUgfSk7XHJcbiAgICAgICAgZ2V0U3VnZ2VzdGlvbnModmFsdWUpLnRoZW4oc3VnZ2VzdGlvbnMgPT4gdGhpcy5zZXRTdGF0ZSh7IHN1Z2dlc3Rpb25zIH0pKTtcclxuICAgICAgfTtcclxuICAgICBcclxuICAgICAgaGFuZGxlSXRlbUNsaWNrZWQgPSAodmFsdWUsIGxhdCwgbG9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHF1ZXJ5OiB2YWx1ZSwgc3VnZ2VzdGlvbnM6W10gfSk7XHJcbiAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVFdmVudHMobGF0LCBsb24pO1xyXG4gICAgICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJDaXR5U2VhcmNoXCI+XHJcbiAgICAgICAgPGlucHV0IHBsYWNlaG9sZGVyPVwiY2l0eVwiIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUlucHV0Q2hhbmdlZH0gIHZhbHVlPXt0aGlzLnN0YXRlLnF1ZXJ5fVxyXG4gICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiY2l0eVwiXHJcbiAgICAgICAgLz5cclxuICAgICAgIDx1bCBjbGFzc05hbWU9XCJzdWdnZXN0aW9uc1wiID5cclxuICB7dGhpcy5zdGF0ZS5zdWdnZXN0aW9ucy5tYXAoIChpdGVtKSA9PiB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgIDxsaSBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZUl0ZW1DbGlja2VkKGl0ZW0ubmFtZV9zdHJpbmcsIGl0ZW0ubGF0LCBpdGVtLmxvbil9IGtleT17aXRlbS5uYW1lX3N0cmluZ30+e2l0ZW0ubmFtZV9zdHJpbmd9PC9saT4gKVxyXG4gIH0pfVxyXG48L3VsPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDaXR5U2VhcmNoOyJdfQ==